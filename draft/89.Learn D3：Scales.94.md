# 89.Learn D3ï¼š Scales.94

## <a name="start"></a> å¼•å­
ç»§ [Learn D3: Data][url-pre] ç¬¬ä¸‰ç¯‡ï¼Œåªæ˜¯è‹±æ–‡ç¿»è¯‘ï¼Œå¯ä¿®æ”¹ä»£ç çš„éƒ¨åˆ†ç”¨é™æ€å›¾ç‰‡æ›¿ä»£äº†ï¼Œæƒ³è¦å®æ—¶äº¤äº’è¯·é˜…è¯»åŸæ–‡ã€‚

- åŸæ–‡ï¼š[Learn D3: Scales][url-1]
- ç‰ˆæœ¬ï¼šPublished Mar 24, 2020

## <a name="title1"></a> æ­£æ–‡
åœ¨ D3 æ•°æ®å›¾å½¢æ‰€æœ‰å·¥å…·ä¸­ï¼Œæœ€åŸºæœ¬çš„æ˜¯æ¯”ä¾‹å°ºï¼Œå®ƒå°†æ•°æ®çš„æŠ½è±¡ç»´åº¦æ˜ å°„åˆ°å¯è§†å˜é‡ã€‚

ä¸ºäº†å°è¯•ï¼Œè€ƒè™‘è¿™ä¸ªå°ï¼ˆä½†ç¾å‘³ï¼ï¼‰æ°´æœçš„æ•°æ®é›†ã€‚

![89-1][url-local-1]

æˆ‘ä»¬é€šå¸¸è®¤ä¸ºç»´åº¦æ˜¯ç©ºé—´çš„ï¼Œæ¯”å¦‚ä¸‰ç»´ç©ºé—´ä¸­çš„ä½ç½®ï¼Œä½†æŠ½è±¡ç»´åº¦ä¸ä¸€å®šæ˜¯ç©ºé—´çš„ã€‚å®ƒå¯èƒ½æ˜¯å®šé‡çš„ï¼Œä¾‹å¦‚ä¸Šé¢æ¯ä¸ªæ°´æœçš„ `count` ã€‚æˆ–è€…å®ƒå¯èƒ½æ˜¯åä¹‰ä¸Šçš„ï¼Œæ¯”å¦‚ä¸€ä¸ª `name` ã€‚

![89-2][url-local-2]
![89-3][url-local-3]

åœ¨ [Semiology of Graphics][url-2] ä¸­ï¼ŒJacques Bertin æè¿°äº†ç‚¹å’Œçº¿ç­‰å›¾å½¢æ ‡è®°å¦‚ä½•â€œè¡¨ç¤ºå·®å¼‚(â‰ )ã€ ç›¸ä¼¼æ€§(â‰¡)ã€ é‡åŒ–é¡ºåºï¼ˆQï¼‰æˆ–éé‡åŒ–é¡ºåºï¼ˆOï¼‰ï¼Œå¹¶ä¸”è¡¨ç¤ºç»„ã€å±‚æ¬¡æˆ–å‚ç›´ç§»åŠ¨â€å¯ä»¥ä½¿ç”¨ä½ç½®ã€å¤§å°ã€é¢œè‰²ç­‰æ¥è¡¨ç¤ºã€‚è¿™äº›å›¾å½¢æ ‡è®°å±æ€§æ˜¯æˆ‘ä»¬çš„è§†è§‰å˜é‡ã€‚

![89-4][url-local-4]

ä¸è®¸å¤šå¯è§†åŒ–ä¸€æ ·ï¼Œä¸‹é¢çš„æ¡å½¢å›¾å°†ä¸¤ä¸ªæŠ½è±¡ç»´åº¦æ˜ å°„åˆ°ä¸¤ä¸ªå¯è§†å˜é‡ï¼š`name` ç»´åº¦æ˜ å°„åˆ°æ¡å½¢å›¾çš„ *y* ä½ç½®ï¼Œè€Œ `count` ç»´åº¦æ˜ å°„åˆ° *x* ä½ç½®ã€‚è¿™äº›æ˜ å°„ç”±ä¸‹é¢çš„ *x* å’Œ *y* æ¯”ä¾‹å°ºå®ç°ã€‚

![89-5][url-local-5]
![89-6][url-local-6]
![89-7][url-local-7]

ï¼ˆè¯·éšæ„ç¼–è¾‘ä»£ç ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆï¼ï¼‰

D3 æ¯”ä¾‹å°ºæœ‰å¤šç§ç±»å‹ã€‚ä½¿ç”¨å“ªä¸€ç§å–å†³äºæŠ½è±¡ç»´åº¦ï¼ˆå®šé‡çš„è¿˜æ˜¯è±¡å¾æ€§çš„ï¼Ÿï¼‰å’Œè§†è§‰å˜é‡ï¼ˆä½ç½®æˆ–é¢œè‰²ï¼Ÿï¼‰ã€‚è¿™é‡Œ *x* æ˜¯[çº¿æ€§æ¯”ä¾‹å°º][url-3]ï¼Œå› ä¸º `count` æ˜¯å®šé‡çš„ï¼Œæ¡å½¢é•¿åº¦åº”è¯¥å’Œæ•°å€¼æˆæ¯”ä¾‹ï¼Œè€Œ *y* æ˜¯[åˆ†æ®µæ¯”ä¾‹å°º][url-4]ï¼Œå› ä¸º `name` æ˜¯è±¡å¾æ€§çš„ï¼Œå¹¶ä¸”æ¡å½¢åšåšçš„ã€‚

æ¯ä¸ªæ¯”ä¾‹å°ºéƒ½æ˜¯é€šè¿‡ä»æŠ½è±¡æ•°æ®ï¼ˆ`domain`ï¼‰åˆ°å¯è§†å˜é‡ï¼ˆ`rang`ï¼‰æˆå¯¹è¿›è¡Œé…ç½®çš„ã€‚ä¾‹å¦‚ï¼Œx-domain çš„ä¸‹é™å€¼ï¼ˆ0ï¼‰æ˜ å°„åˆ° x-range çš„ä¸‹é™å€¼ï¼ˆå›¾è¡¨çš„å·¦è¾¹ç¼˜ï¼‰ï¼Œ`domain` çš„ä¸Šé™å€¼ï¼ˆæœ€å¤§è®¡æ•°ï¼‰æ˜ å°„åˆ° `rang` çš„ä¸Šé™å€¼ï¼ˆå³è¾¹ç¼˜ï¼‰ã€‚

å¯¹äºçº¿æ€§æ¯”ä¾‹å°ºï¼Œ`domain` å’Œ `rang` æ˜¯è¿ç»­çš„é—´éš”ï¼ˆä»*æœ€å°*åˆ°*æœ€å¤§*ï¼‰ã€‚å¯¹äºåˆ†æ®µæ¯”ä¾‹å°ºï¼Œ`domain` æ˜¯ç¦»æ•£å€¼çš„æ•°ç»„(ğŸŠ, ğŸ‡, ğŸ, â€¦) è€Œ `rang` æ˜¯ä¸€ä¸ªè¿ç»­åŒºé—´ï¼›åˆ†æ®µæ¯”ä¾‹å°ºè‡ªåŠ¨ç¡®å®šå¦‚ä½•å°†èŒƒå›´åˆ†å‰²ä¸ºç¦»æ•£çš„å¡«å……åˆ†æ®µã€‚

ä¸Šé¢çš„æ¯”ä¾‹å°ºæ˜¯ä½¿ç”¨*æ–¹æ³•é“¾*é…ç½®çš„ã€‚è¿™ç§ç®€æ´çš„é£æ ¼æ˜¯å¯è¡Œçš„ï¼Œå› ä¸ºé…ç½®æ¯”ä¾‹å°ºçš„æ–¹æ³•ï¼ˆå¦‚ `scale.domain` ï¼‰ä¼šè¿”å›æ¯”ä¾‹å°ºã€‚è¿™æ˜¯åŒç­‰çš„ä¹¦å†™æ–¹å¼ã€‚

![89-8][url-local-8]


![89-9][url-local-9]
![89-10][url-local-10]
![89-11][url-local-11]
![89-12][url-local-12]
![89-13][url-local-13]
![89-14][url-local-14]
![89-15][url-local-15]
![89-16][url-local-16]
![89-17][url-local-17]
![89-18][url-local-18]
![89-19][url-local-19]



## é™„å½•



## <a name="reference"></a> å‚è€ƒèµ„æ–™
- [Learn D3: Scales][url-1]

[url-pre]:https://github.com/XXHolic/blog/issues/93
[url-1]:https://observablehq.com/@d3/learn-d3-scales?collection=@d3/learn-d3
[url-2]:https://book.douban.com/subject/4733932/
[url-3]:https://observablehq.com/@d3/d3-scalelinear
[url-4]:https://observablehq.com/@d3/d3-scaleband


[url-5]:https://developer.mozilla.org/en-US/docs/Web/API/Blob
[url-6]:https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer
[url-7]:https://observablehq.com/@d3/d3-autotype
[url-8]:https://2ality.com/2012/09/expressions-vs-statements.html
[url-9]:https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/return
[url-10]:https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield
[url-11]:https://github.com/d3/d3-dsv/blob/master/README.md#autoType
[url-12]:https://observablehq.com/@d3/histogram
[url-13]:https://observablehq.com/@observablehq/how-observable-runs
[url-14]:https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from
[url-15]:https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map



[url-local-1]:./images/89/1.png
[url-local-2]:./images/89/2.png
[url-local-3]:./images/89/3.png
[url-local-4]:./images/89/4.png
[url-local-5]:./images/89/5.png
[url-local-6]:./images/89/6.png
[url-local-7]:./images/89/7.png
[url-local-8]:./images/89/8.png
[url-local-9]:./images/89/9.png
[url-local-10]:./images/89/10.png
[url-local-11]:./images/89/11.png
[url-local-12]:./images/89/12.png
[url-local-13]:./images/89/13.png
[url-local-14]:./images/89/14.png
[url-local-15]:./images/89/15.png
[url-local-16]:./images/89/16.png
[url-local-17]:./images/89/17.png
[url-local-18]:./images/89/18.png
[url-local-19]:./images/89/19.png

<details>
<summary>:wastebasket:</summary>

æˆåŠŸè·å¾—èŠ³å¿ƒï¼

ç‰¹è‰ä¸æ¯”å¶å¥ˆæ³•è¦æ¸©å’Œå¾ˆå¤šã€‚

è¿™æ°æ´›ç‰¹çœŸæ˜¯å…¨éƒ½è¦å•Šã€‚

![89-poster][url-local-poster]

</details>

[url-local-poster]:./images/89/poster.jpg
